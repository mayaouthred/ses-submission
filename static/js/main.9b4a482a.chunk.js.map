{"version":3,"sources":["SearchComponent.tsx","Selection.tsx","ResultComponent.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SearchComponent","props","onSearchInputChange","event","setState","text","target","value","onButtonClick","onInputChange","state","className","id","this","onChange","type","onClick","Component","Selection","canvas","movie","Title","Released","Runtime","Genre","Director","Plot","poster","React","createRef","getTitleInformation","prevProps","prevState","title","draw","a","fetch","encodeURI","response","ok","alert","status","json","result","Response","responseID","fetchAndSaveImage","console","log","Poster","Image","onload","src","current","Error","ctx","getContext","clearRect","width","height","drawImage","ref","ResultComponent","onNextButtonClick","Math","ceil","numResults","pageNumber","temp","onPrevButtonClick","onTitleButtonClick","selectedTitle","currentTarget","innerText","selectedID","results","getMovieData","page","movieTitles","Search","parsedResult","map","imdbID","totalResults","min","App","updateQuery","newQuery","query","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b4a482a.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\ninterface SearchComponentProps {\r\n    onInputChange(query: string): void; //updates App.tsx with changes in SearchComponent state\r\n}\r\n\r\ninterface SearchComponentState {\r\n    text: any; //text input by the user\r\n}\r\n\r\n/**\r\n * A search bar that receives the user's query.\r\n */\r\nclass SearchComponent extends Component<SearchComponentProps, SearchComponentState> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            text: \"What movie are you thinking of?\",\r\n        }\r\n    }\r\n\r\n    //Update the state to reflect the new search text.\r\n    onSearchInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            text: event.target.value\r\n        });\r\n    }\r\n\r\n    //Updates App.tsx with the new query.\r\n    onButtonClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        this.props.onInputChange(this.state.text);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='inline-display'>\r\n                    <input id=\"search-bar\"\r\n                        value={this.state.text}\r\n                        onChange={this.onSearchInputChange}\r\n                        type=\"text\"\r\n                        />\r\n                <button className=\"search-button\" onClick={this.onButtonClick}>Search</button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default SearchComponent;","import React, {Component} from 'react';\r\n\r\ninterface SelectionProps {\r\n    title: string; //the title of the movie the user selected\r\n    id: string; //the ID of the movie the user selected\r\n}\r\n\r\ninterface SelectionState {\r\n    movie: any; //an object holding the response from the API\r\n    poster: HTMLImageElement | null; //the movie's poster\r\n}\r\n\r\n/**\r\n * Displays details from the selected title.\r\n */\r\nclass Selection extends Component<SelectionProps, SelectionState> {\r\n\r\n    canvas: React.RefObject<HTMLCanvasElement>; //the canvas to draw the poster on\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            movie: {Title: 'Default',\r\n                Released: \"Default\",\r\n                Runtime: \"Default\",\r\n                Genre: \"Default\",\r\n                Director: \"Default\",\r\n                Plot: \"Default\"},\r\n            poster: null\r\n        };\r\n        this.canvas = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getTitleInformation();\r\n    }\r\n\r\n    //If the movie title changed, retrieve the new movie information. If the poster changed,\r\n    //redraw the canvas.\r\n    componentDidUpdate(prevProps: any, prevState: any) {\r\n        if (this.props.title !== prevProps.title) {\r\n            this.getTitleInformation();\r\n        }\r\n        if (this.state.poster !== prevState.poster) {\r\n            this.draw();\r\n        }\r\n    }\r\n\r\n    //Makes a query to the API using this.props.title, stores the parsed result in this.state.movie.\r\n    async getTitleInformation() {\r\n        try {\r\n            //First, try querying with the title.\r\n            let response = await fetch(\"http://www.omdbapi.com/?t=\" + encodeURI(this.props.title)\r\n                +\"&plot=full&apikey=fa79688c\");\r\n            if (!response.ok) {\r\n                alert(\"Bad status: \" + response.status);\r\n                return;\r\n            }\r\n            let result = await response.json();\r\n\r\n            //If the query isn't successful with the title, try searching with the ID instead.\r\n            if (result.Response === \"False\") {\r\n                let responseID = await fetch(\"http://www.omdbapi.com/?i=\" + encodeURI(this.props.id)\r\n                    +\"&plot=full&apikey=fa79688c\");\r\n                if (!response.ok) {\r\n                    alert(\"Bad status: \" + response.status);\r\n                    return;\r\n                }\r\n                result = await responseID.json();\r\n            }\r\n\r\n            //Update state. When complete, it's safe to load the image for the poster.\r\n            this.setState({\r\n                movie: result\r\n            }, () => {\r\n                this.fetchAndSaveImage();\r\n            });\r\n\r\n        } catch (e) {\r\n            alert(\"There was a problem connecting to the server.\");\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    //If this movie has a poster, load an new HTMLImageElement in this.state.poster and set\r\n    //its source.\r\n    fetchAndSaveImage() {\r\n        if (this.state.movie.Poster === \"N/A\") {\r\n            this.setState( {\r\n                poster: null\r\n            });\r\n            return;\r\n        }\r\n        let poster: HTMLImageElement = new Image();\r\n        poster.onload = () => {\r\n            this.setState({\r\n                poster: poster\r\n            })\r\n        }\r\n        poster.src = this.state.movie.Poster;\r\n    }\r\n\r\n    //Clears the current canvas and if the poster exists, draws the poster.\r\n    draw() {\r\n        let canvas = this.canvas.current;\r\n        if (canvas === null) throw Error(\"No canvas reference.\");\r\n        let ctx = canvas.getContext(\"2d\");\r\n        if (ctx === null) throw Error(\"Can't draw, no graphics context.\");\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (this.state.poster !== null) {\r\n            canvas.width = this.state.poster.width;\r\n            canvas.height = this.state.poster.height;\r\n            ctx.drawImage(this.state.poster, 0, 0);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='selection'>\r\n                <h1>{this.state.movie.Title}</h1>\r\n                <p><b>Release date: </b>{this.state.movie.Released}</p>\r\n                <p><b>Runtime: </b>{this.state.movie.Runtime}</p>\r\n                <p><b>Genre: </b>{this.state.movie.Genre}</p>\r\n                <p><b>Director: </b>{this.state.movie.Director}</p>\r\n                <p>{this.state.movie.Plot}</p>\r\n                <canvas ref={this.canvas}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Selection;","import React, {Component} from 'react';\r\nimport Selection from './Selection';\r\n\r\ninterface ResultComponentProps {\r\n    title: string, //the title the user want to search for\r\n}\r\n\r\ninterface ResultComponentState {\r\n    results: any; //a formatted list of ten or less buttons with the titles of the result's movies\r\n    numResults: number; //number of total results for the search\r\n    pageNumber: number; //the page number the results came from\r\n    selectedTitle: string; //the title the movie the user has selected\r\n    selectedID: string; //the ID of the movie the user has selected\r\n}\r\n\r\nclass ResultComponent extends Component<ResultComponentProps, ResultComponentState> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            results: [],\r\n            numResults: 0,\r\n            pageNumber: 1,\r\n            selectedTitle: \"Iron Man\",\r\n            selectedID: \"tt0371746\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMovieData(1);\r\n    }\r\n\r\n    //If title changed, reset page number and request data. If page number changed, re-request the data.\r\n    componentDidUpdate(prevProps: any, prevState: any) {\r\n        if (this.props.title !== prevProps.title) {\r\n            this.setState({\r\n                pageNumber: 1,\r\n            }, () => {\r\n                this.getMovieData(this.state.pageNumber);\r\n            });\r\n        } else if (this.state.pageNumber !== prevState.pageNumber) {\r\n            this.getMovieData(this.state.pageNumber);\r\n        }\r\n\r\n    }\r\n\r\n    //Makes a query to the API using this.props.title and this.state.pageNumber. Sets this.state.results and\r\n    // this.state.numResults accordingly.\r\n    async getMovieData(page: number) {\r\n        try {\r\n            //Request a list of movies from the API.\r\n            let response = await fetch(\"http://www.omdbapi.com/?s=\" + encodeURI(this.props.title)\r\n                +\"&page=\"+ this.state.pageNumber +\"&apikey=fa79688c\");\r\n            if (!response.ok) {\r\n                alert(\"Bad status: \" + response.status);\r\n                return;\r\n            }\r\n            let result = await response.json();\r\n\r\n            //If the response has search results, format into a list of button elements with the imdbID as the key.\r\n            //Update state accordingly.\r\n            if (result.Response === \"True\") {\r\n                let movieTitles: any[] = result.Search;\r\n                let parsedResult = movieTitles.map(movie => (\r\n                        <li className=\"title-button\">\r\n                            <button onClick={this.onTitleButtonClick} key={movie.imdbID}\r\n                                    value={movie.imdbID}><b>{movie.Title}</b></button>\r\n                        </li>\r\n                    ));\r\n\r\n                this.setState({\r\n                    results: parsedResult,\r\n                    numResults: result.totalResults\r\n                });\r\n\r\n            } else {\r\n                //Otherwise, indicate that the search was unsuccessful.\r\n                this.setState({\r\n                    results: <li>I'm sorry, I couldn't find anything for that search.</li>,\r\n                    numResults: 0\r\n                })\r\n            }\r\n\r\n        } catch (e) {\r\n            alert(\"There was a problem connecting with the server.\")\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    //Increment this.state.pageNumber by one.\r\n    onNextButtonClick = () => {\r\n        if (Math.ceil(this.state.numResults / 10) > this.state.pageNumber) {\r\n            let temp: number = this.state.pageNumber + 1;\r\n            this.setState({\r\n                pageNumber: temp\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    //Decrement the this.state.pageNumber by one.\r\n    onPrevButtonClick = () => {\r\n        if (this.state.pageNumber > 1) {\r\n            let temp: number = this.state.pageNumber - 1;\r\n            this.setState({\r\n                pageNumber: temp\r\n            })\r\n        }\r\n    }\r\n\r\n    //Update which movie title is currently selected.\r\n    onTitleButtonClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        this.setState({\r\n            selectedTitle: event.currentTarget.innerText,\r\n            selectedID: event.currentTarget.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='inline-display'>\r\n                <div id=\"titles-list\">\r\n                    <ul className=\"titles\">{this.state.results}</ul>\r\n\r\n                    <div id=\"pagination\">\r\n                    <button className='search-button' onClick={this.onPrevButtonClick}>Previous ten results</button>\r\n                    <button className='search-button' onClick={this.onNextButtonClick}>Next ten results</button>\r\n                    <p>Currently displaying results {this.state.pageNumber*10-9} through {Math.min(this.state.pageNumber*10,\r\n                        this.state.numResults)} of {this.state.numResults}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <Selection title={this.state.selectedTitle} id={this.state.selectedID}/>\r\n\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default ResultComponent;","import React, {Component} from 'react';\nimport './App.css';\nimport SearchComponent from './SearchComponent';\nimport ResultComponent from \"./ResultComponent\";\n\n\ninterface AppState {\n  query: string; //search input by the user\n}\n\n/**\n * A movie database that searches for movies based on the user's query and allows them to\n * select titles the results to get more information. The query flows from SearchComponent to\n * App to ResultComponent. The selected title flows from ResultComponent to Selection.\n *\n * Defaults to showing information about Iron Man.\n */\nclass App extends Component<{}, AppState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      query: \"Iron Man\",\n    };\n  }\n\n  //Update this.state with a new query and filter text.\n  updateQuery = (newQuery: string) => {\n    this.setState({\n      query: newQuery,\n    });\n\n  }\n\n  render() {\n    return (\n        <div>\n          <h1 id='heading'>Movie Metadata</h1>\n          <SearchComponent onInputChange={this.updateQuery}/>\n          <ResultComponent title={this.state.query}/>\n        </div>\n    )\n  }\n\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}